<!DOCTYPE html>
<html ng-app>
<head>
    <title>Prepros Options</title>
    
    <script src="../scripts/lib/angular.js"></script>
    <script src="../scripts/lib/underscore.js"></script>
    <link href="../assets/css/style.css" rel="stylesheet">
    <script>
        function OptionsCtrl($scope){

            //Cross window communication hack
            $scope.options =  global.preprosOptions;

            var depKeys = Object.keys($scope.options.dependencies);
            var langKeys = Object.keys($scope.options.languages);

            var deps = [];

            _.each(depKeys, function(key){

                deps.push(key + " -> " +$scope.options.dependencies[key]);

            });

            _.each(langKeys, function(key){

                deps.push(key + " -> " +$scope.options.languages[key].version);

            });

            $scope.dependencies = deps.sort();

            $scope.save = function(){
                window.close();
            }

        }
    </script>
</head>
<body>
<div ng-controller="OptionsCtrl" class="preprosOptions">
    <h4>Prepros App Options</h4>
    <div class="options">
        <label>
            <input type="checkbox" ng-model="options.user.enableNotifications">
            <span class="label-desc">Enable Desktop Notifications</span>
        </label>
        <label>
            <span class="label-desc">Css Folder <span class="muted">(will apply only to new projects)</span></span><br>
            <input type="text" ng-model="options.user.cssPath">
        </label>
        <label>
            <span class="label-desc">Javascripts Folder <span class="muted">(will apply only to new projects)</span></span><br>
            <input type="text" ng-model="options.user.jsPath">
        </label>
        <button ng-click="save()">Save and Close</button>
    </div>
</div>
</body>
</html>