<!DOCTYPE html>
<html ng-app>
<head>
    <title>Notification</title>
    
    <script src="../scripts/lib/angular.js"></script>
    <script src="../scripts/lib/underscore.js"></script>
    <link href="../assets/css/style.css" rel="stylesheet">
    <script>
        function NotificationCtrl($scope){

            var nwWindow = require('nw.gui').Window.get();
            nwWindow.show();
            nwWindow.focus();
            nwWindow.setAlwaysOnTop(true);



            _.delay(function(){
                window.close();
            }, 5000);

            $scope.notification = global.preprosNotification;

            $scope.openLog = function(){
                global.logElement.trigger('click');
            };

            $scope.close= function(e){
                e.stopPropagation();
                window.close();
            };
        }
    </script>
</head>
<body>

<div ng-controller="NotificationCtrl" class="preprosNotification {{notification.type}}" ng-click="openLog()">
    <span class="icomoon-close" ng-click="close($event)"></span>
    <span class="title"><i class="icomoon-bullhorn"></i>{{notification.name}}</span>
</div>
</body>
</html>